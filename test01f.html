<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>TEST-foto-TORCH2</title>
        <style>
            h1 {margin-top: 0.5rem; color: grey;}
            a {font-size:1.2rem;}
        </style>
    </head>
    <body>
        <a href="javascript: history.go(-1)">Volver a MENU</a>
        <br><br>
        <h1>
            TEST foto TORCH25
        </h1>

        <br>
        <!--<button id="but" style="font-size : 18px; width: 200px; height: 40px;">Ver LOG</button>-->
        <a id="but" class="btn btn-lg btn-success py-1" href="#" role="button">Ver LOG</a>

        <script>

            document.addEventListener("DOMContentLoaded", () => {

                let but = document.getElementById("but");

                but.addEventListener("click", () => {
                    let mylog = 'MyLog';

                    mediaDevices
                        .getUserMedia({
                            audio: false,
                            video: {deviceId: undefined}
                        })
                        .then((stream) => {
                            // Changing the source of video to current stream.
                            //video.srcObject = stream;

                            let deviceInfos = navigator.mediaDevices.enumerateDevices();
                            mylog += '$$$';
                            mylog += deviceInfos.length;
                            alert(mylog);
                            
                            })
                            .catch(alert);

                });

                /*
                let deviceInfos = navigator.mediaDevices.enumerateDevices();
                let mylog = 'MyLog';
                for (let i = 0; i !== deviceInfos.length; ++i){
                    const deviceInfo = deviceInfos[i];
                    if (deviceInfo.kind === 'videoinput'){
                        mylog += '$$$';
                        mylog += deviceInfo.label;
                    }
                }
                alert(mylog);
                */

            });

        </script>

    </body>
</html>